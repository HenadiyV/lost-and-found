<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><! <html class="no-js"> <![endif]-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!---->
<head>
    <!--<meta charset="utf-8">-->
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->
    <!--<title>Animals</title>-->
    <!--<meta name="description" content="">-->
    <!--<meta name="viewport" content="width=device-width">-->
    <!--&lt;!&ndash;<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>&ndash;&gt;-->
    <!--<div th:insert="~{fragments/resursCSS.html :: rescss}"></div>-->
</head>
<body>
<div th:fragment="advert">
    <div  class="container " >
        <div th:if="${listAdver.getTotalElements()}>0">
            <div class="container-fluid">
                <div class="row">

                    <ul class=" pagination">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true" th:text="#{lang.page}">Сторінки</a>
                        </li>
                        <div  th:each="i:${#numbers.sequence(1,listAdver.getTotalPages())}">
                            <li th:if="${i-1==listAdver.getNumber()}" class="page-item active" >
                                <a href="#" th:text="${i}" class="page-link"></a>
                            </li>
                            <li th:unless="${i-1==listAdver.getNumber()}" class="page-item " >
                                <a th:href="@{${url}(page=${i-1},size=${listAdver.getSize()})}" th:text="${i}" class="page-link"></a>
                            </li>
                        </div>
                    </ul>
                    <div th:if="${listAdver.getTotalElements()}>${listAdver.getSize()}">
                        <ul class=" pagination">
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true" th:text="#{lang.page.size}">Кількість відображаємих елементів</a>
                            </li>

                            <div  th:each="c:${#numbers.sequence(2,listAdver.getTotalElements(),2)}">
                                <li th:if="${c==listAdver.getSize()}" class="page-item active" >
                                    <a href="#" th:text="${c}" class="page-link"></a>
                                </li>
                                <li th:unless="${c==listAdver.getSize()}" class="page-item " >
                                    <a th:href="@{${url}(page=${listAdver.getNumber()},size=${c})}" th:text="${c}" class="page-link"></a>
                                </li>
                            </div>

                        </ul>

                    </div>
                </div></div>
        </div>
        <!--modal-->
        <div class="container">
            <div class="container">

                <div class="modal fade" id="myModalMessage" role="dialog">
                    <div class="modal-dialog">

                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header" style="padding:35px 50px;">
                                <h4 th:text="#{lang.message}"><span class="glyphicon glyphicon-lock"></span> Повідомлення </h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>

                            </div>
                            <div class="modal-body" style="padding:40px 50px;">
                                <div>
                                    <span th:text="#{lang.message.limited}">Довжина повідомлення обмежена</span>
                                    <p><span th:text="#{lang.message.remainder}"> Осталось : </span> <span id="corectValue"></span><span th:text="#{lang.message.characters}">символов</span></p>
                                    <form action="/view/add_message"  method="post">
                                        <div class="form-group">
                                            <div class=" col-sm-6 col-md-6 col-md-offset-1">
                                                <input hidden="hidden"  th:name="idAdver" id="idAdver"/>
                                                <input hidden="hidden"  th:name="url" th:value="${url}"/>
                                                <div class="error" th:if="${textMessEr}" th:text="#{lang.text.error}">Name Error</div>
                                                <textarea cols="50" rows="3" name="textMessage"  id="textMessage" onkeyup="doAjax()" th:placeholder="#{lang.ad.text}"></textarea>
                                            </div>
                                            <input name="capcha" type="checkbox" onclick="doMessage()"><span th:text="#{lang.capcha}" >Я не робот.</span></input>
                                        </div>
                                        <button class="btn-info" type="submit" id="btn_msg"  value="submit" th:text="#{lang.btn.send}" disabled >Відправити</button>
                                        <!--<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->

                                    </form>
                                </div>
                            </div >


                        </div>

                    </div>
                </div>
            </div>
        </div> <!--/modal-->

        <div class="row col-12" >

            <div  th:each="adver:${listAdver}">
                <div class="card  m-1" >
                    <div style="overflow: hidden; width: 100%;">
                        <div style="width: 150px; height: 150px; object-fit: cover;">
                            <img   th:src="@{'/img/'+${adver.getPhoto()}}" alt="Card image cap"  />
                        </div>
                    </div>
                    <div class="card-body">

                        <h5 class="card-title" th:text="#{lang.warning}">Увага<span class=" ml-5" style="color:red " th:text="${adver.getDataStart()}"></span></h5>
                        <div class="card-text" >
                            <b> <span th:text="#{lang.in.city}">В місті :</span></b>
                            <br/>
                            <b><span class=" ml-1" style="color:blue " th:text="${adver.getCity().name}"></span></b>
                        </div>
                        <div class="card-text" ><span th:text="#{lang.was}">Було</span>  <span class=" ml-5" style="color:red " th:text="${adver.getStatus().name}"></span></div>
                        <p class="card-text"><span class=" ml-5" style="color:blue " th:text="${adver.getCategory().name}"></span></p>
                        <p>
                            <button class="btn btn-primary" th:onclick="'javascript:toggle_show(\''+'B'+${adver.getId()}+'\');'" th:text="#{lang.btn.read.more}">
                                Докладніше
                            </button>
                        <div  style=" width: 200px;">
                            <div th:id="B+${adver.getId()}" th:text="${adver.getTextAdver()}" style="display:none">
                            </div>
                        </div>
                        </p>
                    </div>

                    <div class="card-footer">
                        <div class="row">
                            <div class="m-1" >
                                <a class="btn btn-primary" id="bt" th:onclick="'javascript:myModalMessage(\''+${adver.getId()}+'\');'" th:text="#{lang.send}">Повідомити</a>
                            </div>

                            <div class="m-1" th:if="${us}==2">
                                <form action="/advers/adversDelete"  method="post">
                                    <input hidden="hidden"  th:name="messDel" th:value="${adver.getId()}"/>
                                    <input hidden="hidden"  th:name="url" th:value="${url}"/>
                                    <button class="btn btn-primary" type="submit" th:text="#{lang.btn.delete}">Видалити</button>
                                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>

    </div>


</div>

</body>
</html>