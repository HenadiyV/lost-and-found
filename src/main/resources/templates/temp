
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<div th:if="${url}=='index'">-->
        <!--<link rel="stylesheet" href="/static/css/bootstrap.min.css">-->
        <!--<link rel="stylesheet" href="/static/css/icomoon-social.css">-->
        <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600,800' rel='stylesheet' type='text/css'>-->

        <!--<link rel="stylesheet" href="/static/css/leaflet.css" />-->
        <!--&lt;!&ndash;[if lte IE 8]>-->
        <!--<link rel="stylesheet" href="/static/css/leaflet.ie.css" />-->
        <!--<![endif]&ndash;&gt;-->
        <!--<link rel="stylesheet" href="/static/css/main.css">-->

        <!--<script src="/static/css/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>-->
    <!--</div>-->
    <!--<div th:if="${url}=='404'">-->
        <!--<link rel="stylesheet" href="/static/css/bootstrap.min.css">-->
        <!--<link rel="stylesheet" href="/static/css/icomoon-social.css">-->
        <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600,800' rel='stylesheet' type='text/css'>-->

        <!--<link rel="stylesheet" href="/static/css/leaflet.css" />-->
        <!--&lt;!&ndash;[if lte IE 8]>-->
        <!--<link rel="stylesheet" href="/static/css/leaflet.ie.css" />-->
        <!--<![endif]&ndash;&gt;-->
        <!--<link rel="stylesheet" href="/static/css/main.css">-->

        <!--<script src="/static/css/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>-->
    <!--</div>-->
    <!--<div th:if="${url}=='about'">-->

    <!--<link rel="stylesheet" href="/static/css/bootstrap.min.css">-->
    <!--<link rel="stylesheet" href="/static/css/icomoon-social.css">-->
    <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600,800' rel='stylesheet' type='text/css'>-->

    <!--<link rel="stylesheet" href="/static/css/leaflet.css" />-->
    <!--&lt;!&ndash;[if lte IE 8]>-->
    <!--<link rel="stylesheet" href="/static/css/leaflet.ie.css" />-->
    <!--<![endif]&ndash;&gt;-->
    <!--<link rel="stylesheet" href="/static/css/main.css">-->

    <!--<script src="/static/css/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>-->
<!--</div>-->
    <!--<div th:if="${url}=='coming'">-->
        <!--<link rel="stylesheet" href="/static/css/bootstrap.min.css">-->
        <!--<link rel="stylesheet" href="/static/css/icomoon-social.css">-->
        <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600,800' rel='stylesheet' type='text/css'>-->

        <!--<link rel="stylesheet" href="/static/css/leaflet.css" />-->
        <!--&lt;!&ndash;[if lte IE 8]>-->
        <!--<link rel="stylesheet" href="/static/css/leaflet.ie.css" />-->
        <!--<![endif]&ndash;&gt;-->
        <!--<link rel="stylesheet" href="/static/css/main.css">-->

        <!--<script src="/static/css/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>-->
    <!--</div>-->
    <!--<div th:if="${url}=='contact'">-->
    <!--<link rel="stylesheet" href="/static/css/bootstrap.min.css">-->
    <!--<link rel="stylesheet" href="/static/css/icomoon-social.css">-->
    <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600,800' rel='stylesheet' type='text/css'>-->

    <!--<link rel="stylesheet" href="/static/css/leaflet.css" />-->
    <!--&lt;!&ndash;[if lte IE 8]>-->
    <!--<link rel="stylesheet" href="/static/css/leaflet.ie.css" />-->
    <!--<![endif]&ndash;&gt;-->
    <!--<link rel="stylesheet" href="/static/css/main.css">-->

    <!--<script src="/static/css/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>-->


<!--</div>-->
    <!--<div th:if="${url}=='events'">-->
        <!--<link rel="stylesheet" href="/static/css/bootstrap.min.css">-->
        <!--<link rel="stylesheet" href="/static/css/icomoon-social.css">-->
        <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,600,800' rel='stylesheet' type='text/css'>-->

        <!--<link rel="stylesheet" href="/static/css/leaflet.css" />-->
        <!--&lt;!&ndash;[if lte IE 8]>-->
        <!--<link rel="stylesheet" href="/static/css/leaflet.ie.css" />-->
        <!--<![endif]&ndash;&gt;-->
        <!--<link rel="stylesheet" href="/static/css/main.css">-->

        <!--<script src="/static/css/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>-->


    <!--</div>

    404
    <!-- Navigation & Logo-->


    <div class="mainmenu-wrapper">
    			<div class="container">
    				<div class="menuextras">
    					<div class="extras">
    						<ul>
    							<li>
    								<div class="dropdown choose-country">
    									<a class="#" data-toggle="dropdown" href="#">
    										<img src="img/flags/ua.png" alt="Украина">UA</a>
    									<ul class="dropdown-menu" role="menu">
    										<li role="menuitem">
    											<a href="#">
    												<img src="img/flags/us.png" alt="United States"> US</a>
    										</li>

    										<li role="menuitem">
    											<a href="#">
    												<img src="img/flags/ru.png" alt="Россия">RU</a>
    										</li>
    									</ul>
    								</div>
    							</li>
    							<li>
    								<a href="login.html">Login</a>
    							</li>
    						</ul>
    					</div>
    				</div>
    				<nav id="mainmenu" class="mainmenu">
    					<ul>
    						<li class="logo-wrapper">
    							<a href="index.html">
    								<img src="img/mPurpose-logo.png" alt="Multipurpose Twitter Bootstrap Template">
    							</a>
    						</li>
    						<li class="active">
    							<a href="index.html">Home</a>
    						</li>
    						<li>
    							<a href="page-about-us.html">About Us</a>
    						</li>
    						<li>
    							<a href="page-contact-us.html">Contact Us</a>
    						</li>
    						<li>
    							<a href="page-faq.html">Frequently Asked Questions</a>
    						</li>

    						<li class="has-submenu">
    							<a href="#">Pages +</a>
    							<div class="mainmenu-submenu">
    								<div class="mainmenu-submenu-inner">


    									<div>
    										<h4>General Pages</h4>
    										<ul>
    											<li>
    												<a href="page-about-us.html">About Us</a>
    											</li>
    											<li>
    												<a href="page-contact-us.html">Contact Us</a>
    											</li>
    											<li>
    												<a href="page-faq.html">Frequently Asked Questions</a>
    											</li>
    											<li>
    												<a href="page-testimonials-clients.html">Testimonials & Clients</a>
    											</li>
    											<li>
    												<a href="page-events.html">Events</a>
    											</li>
    											<li>
    												<a href="page-404.html">404 Page</a>
    											</li>
    											<li>
    												<a href="page-sitemap.html">Sitemap</a>
    											</li>
    											<li>
    												<a href="login.html">Login</a>
    											</li>
    											<li>
    												<a href="page-register.html">Register</a>
    											</li>
    											<li>
    												<a href="page-password-reset.html">Password Reset</a>
    											</li>
    											<li>
    												<a href="page-terms-privacy.html">Terms & Privacy</a>
    											</li>
    											<li>
    												<a href="page-coming-soon.html">Coming Soon</a>
    											</li>
    										</ul>
    									</div>

    								</div>
    								<!-- /mainmenu-submenu-inner -->
    							</div>
    							<!-- /mainmenu-submenu -->
    						</li>

    					</ul>
    				</nav>
    			</div>
    		</div>
    		<!--End Navigation & Logo-->
    		futer
    		<div class="footer">
            			<div class="container">
            				<div class="row">
            					<div class="col-footer col-md-3 col-xs-6">
            						<h3>Our Latest Work</h3>
            						<div class="portfolio-item">
            							<div class="portfolio-image">
            								<a href="page-portfolio-item.html">
            									<img src="img/portfolio3.jpg" alt="Project Name">
            								</a>
            							</div>
            						</div>
            					</div>
            					<div class="col-footer col-md-3 col-xs-6">
            						<h3>Navigate</h3>
            						<ul class="no-list-style footer-navigate-section">
            							<li>
            								<a href="index.html">Home</a>
            							</li>
            							<li>
            								<a href="page-about-us.html">About Us</a>
            							</li>
            							<li>
            								<a href="page-contact-us.html">Contact Us</a>
            							</li>
            							<li>
            								<a href="page-faq.html">Frequently Asked Questions</a>
            							</li>
            							<li>
            								<a href="page-faq.html">FAQ</a>
            							</li>
            						</ul>
            					</div>

            					<div class="col-footer col-md-4 col-xs-6">
            						<h3>Contacts</h3>
            						<p class="contact-us-details">
            							<b>Address:</b> Khmelnitsk, Ukraine
            							<br/>
            							<b>Phone:</b> +038 067 4992256
            							<br/>
            							<b>Fax:</b> +038 067 4992256
            							<br/>
            							<b>Email:</b>
            							<a href="mailto:henadiyv@gmail.com">henadiyv@gmail.com</a>
            						</p>
            					</div>
            					<div class="col-footer col-md-2 col-xs-6">
            						<h3>Stay Connected</h3>
            						<ul class="footer-stay-connected no-list-style">
            							<li>
            								<a href="#" class="facebook"></a>
            							</li>
            							<li>
            								<a href="#" class="twitter"></a>
            							</li>
            							<li>
            								<a href="#" class="googleplus"></a>
            							</li>
            						</ul>
            					</div>
            				</div>
            				<div class="row">
            					<div class="col-md-12">
            						<div class="footer-copyright">&copy; 2019 FoundHelp. All rights reserved.</div>
            					</div>
            				</div>
            			</div>
            		</div>

            		end futer

            		 <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
                            <!--<script>window.jQuery || document.write('<script src="js/jquery-1.9.1.min.js"><\/script>')</script>-->
                            <!--<script src="js/bootstrap.min.js"></script>-->
                            <!--<script src="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.js"></script>-->
                            <!--<script src="js/jquery.fitvids.js"></script>-->
                            <!--<script src="js/jquery.sequence-min.js"></script>-->
                            <!--<script src="js/jquery.bxslider.js"></script>-->
                            <!--<script src="js/main-menu.js"></script>-->
                            <!--<script src="js/template.js"></script>-->

                            end 404

                            contact
                            <!-- <script type="text/javascript">

                            			$(document).ready(function () {
                            				createMap('map');
                            			});

                            			function createMap(elementId) {
                            				var neLat = "36.79923084564507";
                            				var neLng = "21.265787724405527";
                            				var swLat = "38.496870584785938";
                            				var swLng = "24.058144837617874";

                            				var gpx = 'gpx/greece-2018/full.gpx';

                            				var map = new L.Map(elementId);

                            				var service = new L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiaGVuYWRpeSIsImEiOiJjano3NHczcXQwaDVuM2hxcXN3b2QwNmhzIn0.IEzCp7qkb4SYOaOwO1_bxg', {
                            					attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery � <a href="http://mapbox.com">Mapbox</a>',
                            					maxZoom: 18,
                            					id: 'mapbox.streets'
                            				});

                            				var bounds = new L.LatLngBounds(new L.LatLng(neLat, neLng), new L.LatLng(swLat, swLng));
                            				map.addLayer(service).fitBounds(bounds);
                            			}
                            		</script> http://{s}.tile.cloudmade.com/API-key/997/256/{z}/{x}/{y}.png-->
                            		--------------------------
                            		// L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                    			// 		maxZoom: 18,
                                    			// 		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>'
                                    			// 	}).addTo(map);
                                    			//var marker = L.marker([51.5, -0.09]).addTo(map);
                                    	------------------------
                                    	<!-- <script type="text/javascript">
                                        	var
                                        		 osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                                        		//osmUrl = 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',
                                        		osmAttribution =
                                        			'Map data <a target="_blank" href="http://www.openstreetmap.org">OpenStreetMap.org</a> contributors, ' +
                                        			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
                                        		osmLayer = new L.TileLayer(osmUrl, {
                                        			maxZoom: 18,
                                        			attribution: osmAttribution
                                        		}),
                                        		weatherLayer = new OsmJs.Weather.LeafletLayer({ lang: 'ru' }),
                                        		baseMaps = {
                                        			"OpenStreetMap": osmLayer
                                        		},
                                        		overlayMaps = {
                                        			"MeteoDannie": weatherLayer
                                        		},
                                        		layersControl = new L.Control.Layers(baseMaps, overlayMaps),
                                        		popup = new L.Popup(),
                                        		map = new L.Map('map', {
                                        			center: new L.LatLng(55.8, 37.7),
                                        			zoom: 7,
                                        			layers: [osmLayer]
                                        		});
                                        	// Массив layers: [] отображает слои на странице по умолчанию
                                        	map.addControl(layersControl);
                                        	map.on('click', (e) => {
                                        		popup.setLatLng(e.latlng);
                                        		popup.setContent('Koordinat point ' +
                                        			' (' + e.latlng.lat.toFixed(6) +
                                        			', ' + e.latlng.lng.toFixed(6) + ')');
                                        		map.openPopup(popup);
                                        	})
                                        </script> -->

                                        <!-- <link rel="stylesheet" href="/leaflet/leaflet.static" />
                                        <script src="/leaflet/leaflet.js"></script> -->

                                        <!-- <script src="lib/jquery/dist/jquery.min.js"></script>
                                        <script charset="utf-8" src="lib/d3/d3.min.js"></script>
                                        <link href="static/gpx.static" rel="stylesheet">
                                        <link href="lib/leaflet/leaflet.static" rel="stylesheet">
                                        <link href="lib/leaflet-elevation/dist/Leaflet.Elevation-0.0.2.static" rel="stylesheet">
                                        <script src="lib/leaflet/leaflet.js" type="text/javascript"></script>
                                        <script src="lib/leaflet-elevation/dist/Leaflet.Elevation-0.0.2.min.js" type="text/javascript"></script>
                                        <script src="lib/leaflet-gpx/gpx.js" type="text/javascript"></script>

                                        <script src='lib/togeojson/togeojson.js'></script> -->

                                        		<!-- <link rel="stylesheet" href="http://leaflet.cloudmade.com/dist/leaflet.css" /> -->
                                        		<!--[if lte IE 8]><link rel="stylesheet" href="http://leaflet.cloudmade.com/dist/leaflet.ie.css" /><![endif]-->
                                        		<!-- <script src="http://leaflet.cloudmade.com/dist/leaflet.js"></script>
                                        		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
                                        		<script src="http://openweathermap.org/js/leaflet-layer.js"></script> -->
                            end contact

                            <div class="ui floating dropdown labeled search icon button">
                              <i class="world icon"></i>
                              <span class="text">Select Language</span>
                              <div class="menu">
                                <div class="item">Arabic</div>
                                <div class="item">Chinese</div>
                                <div class="item">Danish</div>
                                <div class="item">Dutch</div>
                                <div class="item">English</div>
                                <div class="item">French</div>
                                <div class="item">German</div>
                                <div class="item">Greek</div>
                                <div class="item">Hungarian</div>
                                <div class="item">Italian</div>
                                <div class="item">Japanese</div>
                                <div class="item">Korean</div>
                                <div class="item">Lithuanian</div>
                                <div class="item">Persian</div>
                                <div class="item">Polish</div>
                                <div class="item">Portuguese</div>
                                <div class="item">Russian</div>
                                <div class="item">Spanish</div>
                                <div class="item">Swedish</div>
                                <div class="item">Turkish</div>
                                <div class="item">Vietnamese</div>
                              </div>
                            </div>

/////////////////////////////////////////////////////////
WebSecurityConfig

//package com.example.advt.config;
//
//import com.example.advt.domain.UserSocial;
//import com.example.advt.repos.UserDetailsRepo;
//import com.example.advt.service.UserService;
//import org.springframework.beans.factory.annotation.Autowired;
//import org.springframework.boot.autoconfigure.security.oauth2.resource.PrincipalExtractor;
//import org.springframework.boot.autoconfigure.security.oauth2.resource.ResourceServerProperties;
//import org.springframework.boot.autoconfigure.security.oauth2.resource.UserInfoTokenServices;
//import org.springframework.boot.context.properties.ConfigurationProperties;
//import org.springframework.boot.context.properties.NestedConfigurationProperty;
//import org.springframework.boot.web.servlet.FilterRegistrationBean;
//import org.springframework.context.annotation.Bean;
//import org.springframework.context.annotation.Configuration;
//import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
//import org.springframework.security.config.annotation.web.builders.HttpSecurity;
//import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
//import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
//import org.springframework.security.crypto.password.NoOpPasswordEncoder;
//import org.springframework.security.oauth2.client.OAuth2ClientContext;
//import org.springframework.security.oauth2.client.OAuth2RestTemplate;
//import org.springframework.security.oauth2.client.filter.OAuth2ClientAuthenticationProcessingFilter;
//import org.springframework.security.oauth2.client.filter.OAuth2ClientContextFilter;
//import org.springframework.security.oauth2.client.token.grant.code.AuthorizationCodeResourceDetails;
//import org.springframework.security.oauth2.config.annotation.web.configuration.EnableOAuth2Client;
//import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;
//import org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;
//import org.springframework.security.web.authentication.AuthenticationSuccessHandler;
//import org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint;
//import org.springframework.security.web.authentication.www.BasicAuthenticationFilter;
//import org.springframework.security.web.csrf.CookieCsrfTokenRepository;
//import org.springframework.web.filter.CompositeFilter;
//
//import java.util.ArrayList;
//import java.util.List;
//import javax.servlet.Filter;
///*
// *@autor Hennadiy Voroboiv
// *@email henadiyv@gmail.com
// *12.08.2019
// */
//@Configuration
//@EnableWebSecurity
//@EnableOAuth2Client
//public class WebSecurityConfig extends WebSecurityConfigurerAdapter {
//    @Autowired
//    private UserService userService;
//    @Autowired
//    OAuth2ClientContext oauth2ClientContext;
////    @Bean
////    public AuthenticationSuccessHandler successHandler() {
////        return new MyCustomLoginSuccessHandler();
////    }
//
////    @Autowired
////    public void configureGlobalSecurity(AuthenticationManagerBuilder auth) throws Exception {
////        auth.userDetailsService(userService);
////    }
//    @Override
//    protected void configure(HttpSecurity http) throws Exception {
////        http
////                .csrf()
////               //.ignoringAntMatchers("/advt/**")
////                .disable()
////                //, .and() "/contact", "/about", "/page-register" "/static/static/img/homepage-slider/**", "/static/static/img/service-icon/**",.ignoringAntMatchers("/test/category","/admin/category/{id}", "/admin_city/city",  "/admin_city/city/{id}" , "/admin_status/status",  "/admin_status/status/{id}", "/admin_role/role",  "/admin_role/role/{id}")
////
////                .authorizeRequests()
////
////                .antMatchers("/**", "/static/static/**", "/static/static/img/flags/**", "/img/**","/advt/**"
////
////                ).permitAll().anyRequest()
////                .authenticated()
////                .and()
////                .formLogin()
////                .loginPage("/login")
////
////                .successHandler(successHandler())
////
////
////                .permitAll()
////                .and()
////
////
////                .logout()
////
////                .invalidateHttpSession(false)
////                .logoutSuccessUrl("/")
////
////                .permitAll();
//
////        http.antMatcher("/**")
////                .authorizeRequests()
////                .antMatchers( "/login**","/**", "/static/static/**", "/static/static/img/flags/**", "/img/**","/advt/**").permitAll()
////                .anyRequest().authenticated()
////                .and().exceptionHandling()
////                .and()
////                .csrf().disable();
//
//        // @formatter:off
//        http.antMatcher("/**").authorizeRequests().antMatchers("/", "/login**", "/webjars/**", "/error**").permitAll().anyRequest()
//                .authenticated().and().exceptionHandling()
//                .authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint("/")).and().logout()
//                .logoutSuccessUrl("/").permitAll().and().csrf()
//                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).and()
//                .addFilterBefore(ssoFilter(), BasicAuthenticationFilter.class);
//        // @formatter:on
//    }
////    @Override
////    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
////
////        auth.userDetailsService(userService)
////                .passwordEncoder(NoOpPasswordEncoder.getInstance());
////
////    }
////    @Bean
////    public PrincipalExtractor principalExtractor(UserDetailsRepo userDetailsRepo) {
////        return map -> {
////            return new UserSocial();
//////            String id = (String) map.get("sub");
//////
//////            UserSocial user = userDetailsRepo.findById(id).orElseGet(() -> {
//////                UserSocial newUser = new UserSocial();
//////
//////                newUser.setId(id);
//////                newUser.setName((String) map.get("name"));
//////                newUser.setEmail((String) map.get("email"));
//////                newUser.setGender((String) map.get("gender"));
//////                newUser.setLocale((String) map.get("locale"));
//////                newUser.setUserpic((String) map.get("picture"));
////
////                //return usr;
////         //   });
////
////           // user.setLastVisit(LocalDateTime.now());
////
////            //return userDetailsRepo.save(user);
////       // };
////             };
////    }
////}
//
////@EnableResourceServer
////protected static class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {
////    @Override
////    public void configure(HttpSecurity http) throws Exception {
////        // @formatter:off
////        http.antMatcher("/me").authorizeRequests().anyRequest().authenticated();
////        // @formatter:on
////    }
////}
//
//
//
//    @Bean
//    public FilterRegistrationBean<OAuth2ClientContextFilter> oauth2ClientFilterRegistration(OAuth2ClientContextFilter filter) {
//        FilterRegistrationBean<OAuth2ClientContextFilter> registration = new FilterRegistrationBean<OAuth2ClientContextFilter>();
//        registration.setFilter(filter);
//        registration.setOrder(-100);
//        return registration;
//    }
//
//    @Bean
//    @ConfigurationProperties("github")
//    public ClientResources github() {
//        return new ClientResources();
//    }
//
//    @Bean
//    @ConfigurationProperties("facebook")
//    public ClientResources facebook() {
//        return new ClientResources();
//    }
//
//    private Filter ssoFilter() {
//        CompositeFilter filter = new CompositeFilter();
//        List<Filter> filters = new ArrayList<>();
//        filters.add(ssoFilter(facebook(), "/login/facebook"));
//        filters.add(ssoFilter(github(), "/login/github"));
//        filter.setFilters(filters);
//        return filter;
//    }
//
//    private Filter ssoFilter(ClientResources client, String path) {
//        OAuth2ClientAuthenticationProcessingFilter oAuth2ClientAuthenticationFilter = new OAuth2ClientAuthenticationProcessingFilter(path);
//        OAuth2RestTemplate oAuth2RestTemplate = new OAuth2RestTemplate(client.getClient(), oauth2ClientContext);
//        oAuth2ClientAuthenticationFilter.setRestTemplate(oAuth2RestTemplate);
//        UserInfoTokenServices tokenServices = new UserInfoTokenServices(client.getResource().getUserInfoUri(),
//                client.getClient().getClientId());
//        tokenServices.setRestTemplate(oAuth2RestTemplate);
//        oAuth2ClientAuthenticationFilter.setTokenServices(tokenServices);
//        return oAuth2ClientAuthenticationFilter;
//    }
//
//}
//
//class ClientResources {
//
//    @NestedConfigurationProperty
//    private AuthorizationCodeResourceDetails client = new AuthorizationCodeResourceDetails();
//
//    @NestedConfigurationProperty
//    private ResourceServerProperties resource = new ResourceServerProperties();
//
//    public AuthorizationCodeResourceDetails getClient() {
//        return client;
//    }
//
//    public ResourceServerProperties getResource() {
//        return resource;
//    }
//}
////@Bean
////@Override
////public UserDetailsService userDetailsService() {
////    UserDetails user =
////            User.withDefaultPasswordEncoder()
////                    .username("user")
////                    .password("password")
////                    .roles("USER")
////                    .build();
////
////    return new InMemoryUserDetailsManager(user);
////}
/////////////////////////////////////////////////
ThymeleafConfig

package com.example.advt.config;


import lombok.AllArgsConstructor;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.ViewResolver;
import org.thymeleaf.spring5.SpringTemplateEngine;
import org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;
import org.thymeleaf.spring5.view.ThymeleafViewResolver;
import org.thymeleaf.templatemode.TemplateMode;

/*
 *@autor Hennadiy Voroboiv
 *@email henadiyv@gmail.com
 *04.07.2019
 */
//
//@Configuration
//@AllArgsConstructor
//public class ThymeleafConfig {
//    private ApplicationContext applicationContext;
//
//    @Bean
//    public ViewResolver viewResolver(){
//        ThymeleafViewResolver resolver=new ThymeleafViewResolver();
//        resolver.setTemplateEngine(templateEngine());
//        resolver.setCharacterEncoding("UTF-8");
//        return resolver;
//    }
//private SpringResourceTemplateResolver templateResolver(){
//    SpringResourceTemplateResolver templateResolver=new SpringResourceTemplateResolver();
//    templateResolver.setApplicationContext(this.applicationContext);
//    templateResolver.setPrefix("/templates/");
//    templateResolver.setSuffix(".html");
//    templateResolver.setTemplateMode(TemplateMode.HTML);
//    templateResolver.setCacheable(false);
//    return templateResolver;
//}
//@Bean
//    public SpringTemplateEngine templateEngine() {
//    SpringTemplateEngine templateEngine = new  SpringTemplateEngine();
//    templateEngine.setTemplateResolver(templateResolver());
//    templateEngine.setEnableSpringELCompiler(true);
//    return templateEngine;
//    }
//}
///////////////////////////////////////////
UserService

package com.example.advt.service;



import com.example.advt.domain.Role;
import com.example.advt.domain.User;
import com.example.advt.repos.UserRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.Authentication;
import org.springframework.security.core.context.SecurityContextHolder;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;
import org.springframework.ui.Model;

import java.util.Collections;
import java.util.HashMap;
import java.util.Map;
import java.util.Optional;

/*
 *@autor Hennadiy Voroboiv
 *@email henadiyv@gmail.com
 *05.06.2019
 */
@Service
public class UserService implements UserDetailsService {
    @Autowired
    private UserRepository userRepository;


    //    @Override
//    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
//        User userFindByUsername = userRepository.findByEmail(username);
//        User userFindByName = userRepository.findByName(username);
//        User userFindByGoogleUsername = userRepository.findByGoogleUserName(username);
//        User userFindByGoogleName = userRepository.findByGoogleName(username);
//
//        if(userFindByUsername != null)
//        {
//            return userFindByUsername;
//        }
//
//        if(userFindByName != null)
//        {
//            return userFindByName;
//        }
//
//        if(userFindByGoogleUsername != null)
//        {
//            return userFindByGoogleUsername;
//        }
//
//        if(userFindByGoogleName != null)
//        {
//            return userFindByGoogleName;
//        }
//
//        return null;
//
//    }
 public User findById(Long id) {
            return userRepository.findById(id).get();
        }

@Override
public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
   // Long id;
   // User userfindById =new User();


    User userFindByName= userRepository.findByName(username);
    User userfindByEmail=userRepository.findByEmail(username);
    User userfindByIdSocial=userRepository.findByIdSocial(username);
//    try{
//    id=Long.parseLong(name);
//
//    }catch (Exception ex){
//        id=0L;
//    }
//    if(id>0L){
//    userfindById=findById(id);
//    }
    if(userFindByName!=null){
    return userFindByName;}
    if(userfindByEmail!=null){
        return userfindByEmail;
    }
    if(userfindByIdSocial!=null){
        return userfindByIdSocial;
    }
//    if(userfindById!=null){
//        return userfindById;
//    }
   return null;
}

    public boolean userAdmin()
    {

        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();
        boolean hasUserRole = authentication.getAuthorities().stream()
                .anyMatch(r -> r.getAuthority().equals("ADMIN"));
        if(hasUserRole){
            return true;
        }
        return false;
    }
    ///////////////////////////////
//    public boolean addUser(User user) {
//        User userFromDb = userRepo.findByUsername(user.getUsername());
//
//        if (userFromDb != null) {
//            return false;
//        }
//
//        user.setActive(true);
//        user.setRoles(Collections.singleton(Role.USER));
//        user.setActivationCode(UUID.randomUUID().toString());
//
//        userRepo.save(user);
//
//        if (!StringUtils.isEmpty(user.getEmail())) {
//            String message = String.format(
//                    "Hello, %s! \n" +
//                            "Welcome to Sweater. Please, visit next link: http://localhost:8080/activate/%s",
//                    user.getUsername(),
//                    user.getActivationCode()
//            );
//
//            mailSender.send(user.getEmail(), "Activation code", message);
//        }
//
//        return true;
//    }
//
//    public boolean activateUser(String code) {
//        User user = userRepo.findByActivationCode(code);
//
//        if (user == null) {
//            return false;
//        }
//
//        user.setActivationCode(null);
//
//        userRepo.save(user);
//
//        return true;
//    }

}
